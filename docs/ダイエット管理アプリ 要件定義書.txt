ダイエット管理アプリ 要件定義書
1. はじめに
1.1. ドキュメントの目的: 本ドキュメントは、開発するダイエット管理アプリの仕様を定義するものである。本アプリの開発に関わる全ての関係者が、アプリの目的、機能、および非機能要件について共通の理解を持つことを目指す。
1.2. プロジェクトの背景・目的: 個人的なダイエット目標達成を支援するためのアプリケーション開発。特に、継続の難しさやジムに通う時間がないといった課題を持つユーザーをサポートする。
2. アプリ概要
2.1. アプリ名: (仮称) ダイエット応援ノート (※必要に応じて変更ください)
2.2. アプリのコンセプト: 3日坊主にならずに続けられる、家での運動メニュー提案に特化したダイエット管理アプリ。
2.3. ターゲットユーザー: 20代の男女、仕事の時間が不規則、ダイエット経験がない（初心者）。
2.4. 提供価値:
* 継続的なダイエット活動のサポート。
* 自宅で実践可能なパーソナル運動メニューの提供。
* 日々の記録を通じた自己管理能力の向上とモチベーション維持。
3. 機能要件
3.1. 主要機能一覧（優先度別）
* MVP（Minimum Viable Product: 顧客に価値を提供できる最小限の製品）（優先度：高）
* 目標設定
* 食事記録
* 運動記録
* 体重記録
* カロリー計算
* PFCバランス (タンパク質・脂質・炭水化物のバランス) 表示
* 進捗グラフ（体重グラフ基本）
* アドバイス機能（基本知識提供、モチベーション維持の声かけ）
* 家での運動メニュー提案（テキスト表示、簡単記録連携）
* リマインダー機能
* プッシュ通知（記録忘れ防止、成果称賛など）
* 褒める機能（メッセージ）
* UI/UX（ユーザーインターフェース/ユーザーエクスペリエンス：アプリの使いやすさや見た目）（テーマカラーなど、明るくポジティブな雰囲気）
* 優先度：中
* 食事記録：マイメニュー機能、テンプレート記録
* 運動記録：Fitbit API (Fitbitのデータと連携するための仕組み) 連携
* 進捗グラフ：種類追加（体脂肪率、運動時間など）、目標達成までの道のりバー、過去の自分との比較
* アドバイス機能：ユーザー記録に基づくパーソナルアドバイス
* カレンダー表示（記録達成度）
* 週ごとのミニゴール設定
* ミッション・チャレンジ機能
* 豆知識・コラム表示
* 優先度：低
* 褒める機能（アイテム/演出）
* 目標再設定の提案
* 体重以外の変化記録（睡眠、体調、気分、ウエストなど）
* 「最近の変化を感じますか？」問いかけ
* 応援キャラクター/アバター (利用者の分身となるキャラクター) 、アバター着せ替えアイテム
3.2. 各機能詳細仕様
3.2.1. 目標設定機能
* 目的・ゴール: ユーザーが自身のダイエット目標を明確に設定し、アプリ利用の基準とすること。初心者でも無理なく現実的な目標を設定できるようサポート。
* 入力項目:
* 必須: 現在の体重(kg)、目標体重(kg)、目標達成期間(日付/期間選択)
* 任意: 身長(cm)、年齢、性別、活動レベル (日常生活での運動量) 、ダイエットの目的(複数選択可)
* システム算出・表示: 目標減量値、1日目標摂取カロリー目安、BMI (Body Mass Index: 体格指数) (任意項目入力時)、簡単なアドバイス/応援メッセージ
* 画面イメージ（案）: 目標設定画面（入力項目、説明、ボタン）、確認画面（算出値表示、最終確認）、目標確認/編集画面（現状表示、編集機能、達成状況サマリー）
* 考慮事項: 無理な目標への注意喚起/再設定提案、目標再設定の容易性、入力画面のポジティブな雰囲気、目標摂取カロリー計算の精度(MVPは簡易可)、ダイエット目的の他機能への活用。
Generated code
**3.2.2. 食事記録機能**
        *   **目的・ゴール:** ユーザーが摂取食事内容、カロリー、PFCバランスを簡単に記録し、他機能で活用すること。
        *   **入力項目:**
            *   必須: 食事タイミング(朝/昼/夕/間食)、品名/料理名(テキスト)、量(数値＋単位/目安量選択)
            *   任意: カロリー(数値、手入力基本)、PFCバランス(各g、手入力基本)、写真添付、メモ
            *   システム付与: 記録日時(自動、編集可)
        *   **画面イメージ（案）:** 食事記録一覧画面（日付選択、タイミング別リスト、合計カロリー/PFCサマリー、目標との差分、新規記録ボタン）、食事記録追加/編集画面（タイミング選択、各入力欄、[中]マイメニュー/テンプレート記録ボタン、保存ボタン）
        *   **考慮事項:** カロリー/PFC入力補助はMVP手入力基本（将来DB (データベース) 連携/サジェスト (入力候補提案) 検討）、素早い記録UI/UX、複数品目一括記録。

    **3.2.3. 運動記録機能**
        *   **目的・ゴール:** ユーザーが行った運動内容、時間、消費カロリーを記録し、特に提案運動を簡単に記録できるようにすること。
        *   **入力項目:**
            *   必須: 運動の種類/名称(テキスト/リスト選択)、運動時間(数値＋単位)、消費カロリー(数値、手入力基本)
            *   任意: 強度/負荷(選択/数値)、メモ
            *   システム付与: 記録日時(自動、編集可)
        *   **画面イメージ（案）:** 運動記録一覧画面（日付選択、リスト表示、総消費カロリー、新規記録ボタン）、運動記録追加/編集画面（運動種類入力、[高]提案運動簡単入力ボタン、時間/消費カロリー入力、強度/負荷/メモ入力、[中]Fitbit API連携ボタン、保存ボタン）
        *   **考慮事項:** 消費カロリー計算MVP手入力基本（将来METs (メッツ: 運動強度の単位) 等自動計算検討）、「家での運動メニュー提案」とのワンタップ記録連携、運動リスト事前登録。

    **3.2.4. 体重記録機能**
        *   **目的・ゴール:** ユーザーが日々の体重を簡単かつ正確に記録し、進捗グラフで変化を把握できるようにすること。
        *   **入力項目:**
            *   必須: 体重(kg、小数点1-2位)、記録日(日付選択、デフォルト当日、過去日修正可)
            *   任意: 体脂肪率(%)、メモ
            *   システム付与: 記録時刻(自動)
        *   **画面イメージ（案）:** 体重記録画面（日付選択、体重入力(テンキー)、任意項目入力、保存ボタン）、同画面内/記録後表示（今日記録体重(前回差)、目標まで差、ミニグラフ、進捗グラフへボタン）、体重記録一覧/履歴画面（リスト表示、編集/削除機能）
        *   **考慮事項:** 入力簡便性（前回体重デフォルト表示）、記録タイミングアドバイス（リマインダー連携）、MVP手入力基本（将来スマート体組成計連携検討）、目標連動表示、エラーハンドリング (不適切な入力への対応) 、1日1回記録基本（編集対応）。

    **3.2.5. カロリー計算機能**
        *   **目的・ゴール:** 食事記録に基づき摂取カロリーを計算・表示し、目標と比較しやすくすること。
        *   **ロジック (計算論理) :** MVP基本はユーザー手入力（食事記録時）。補助として簡易DBからのサジェスト（あれば）。計算は品目カロリー合計→食事別合計→1日総摂取カロリー。
        *   **表示:** 食事記録画面（品目カロリー入力、食事別小計）、ホーム/ダッシュボード（1日総摂取カロリー、目標比較、差分/達成率/ゲージ表示）、進捗グラフ画面（日別推移グラフ）。
        *   **考慮事項:** 入力負担軽減（[中]マイメニュー/テンプレート記録有効）、カロリーデータ精度に関する注釈、目標オーバー/アンダー時のフィードバック（表示色、メッセージ）。

    **3.2.6. PFCバランス表示機能**
        *   **目的・ゴール:** 食事記録に基づき摂取PFC量とバランスを表示し、健康的な食生活の参考にすること。
        *   **ロジック:** MVP基本はユーザー手入力（食事記録時）。補助として簡易DBからのサジェスト（あれば）。計算は品目PFC合計→食事別PFC量(g)→1日総PFC量(g)→PFCバランス比率(%)算出。
        *   **表示:** 食事記録画面（品目PFC入力、食事別PFC小計(g)）、ホーム/ダッシュボード（1日総PFC量(g)、PFCバランス比率をグラフ表示、理想バランス目安比較）、進捗グラフ画面（日別PFCバランス推移グラフ）。
        *   **考慮事項:** 入力ハードル（任意項目/補助強化検討）、初心者向け表示ON/OFF/段階的導入、PFCデータ精度に関する注釈、PFCバランスに対する解説/アドバイス（アドバイス機能連携）。

    **3.2.7. 進捗グラフ機能**
        *   **目的・ゴール:** 記録データの推移を視覚的に表示し、目標達成状況や変化を把握させ、モチベーションを維持・向上させること。
        *   **表示グラフ:** MVP必須は体重グラフ（縦軸:体重、横軸:日付、目標体重ライン等、折れ線）。期間選択（1週/1ヶ月/3ヶ月/全期間）。[中]摂取カロリー/消費カロリー/PFCバランスグラフ。
        *   **画面イメージ（案）:** 進捗グラフ表示画面（グラフ種類選択、表示エリア、期間選択、タップで詳細数値、期間サマリー、ポジティブメッセージ）。
        *   **考慮事項:** 見やすさ/分かりやすさ（シンプルデザイン、色使い、目盛り）、記録なし日の表現、インタラクティブ性（タップ詳細）、目標比較表示、グラフ状況に応じたポジティブフィードバック（褒める機能連携）、[中]過去自分比較テキスト。

    **3.2.8. アドバイス機能（基本）**
        *   **目的・ゴール:** ダイエット初心者に食事/運動/生活習慣の基本知識を提供し健康実践をサポート。モチベーション維持の声かけ。
        *   **内容:** 一般知識提供（食事/運動/生活習慣のTips (コツや豆知識) ）、モチベーション維持の声かけ（励まし、目標再確認、共感、停滞期心構え、行動促し）。
        *   **提供方法/タイミング:** 専用アドバイス/コラム画面、ホーム/ダッシュボード（今日のひとこと）、関連画面Tips。知識は能動的閲覧、声かけはアプリ起動時/ホーム表示時/記録入力後/状況に応じてランダム。プッシュ通知（今日の応援メッセージ/豆知識、1日1回程度、ユーザー設定可）。
        *   **考慮事項:** 親しみやすく分かりやすいトーン/表現、情報源信頼性（MVP一般知識ベース）、褒める機能との連携/棲み分け、他機能との関連アドバイス表示。

    **3.2.9. 家での運動メニュー提案機能**
        *   **目的・ゴール:** ユーザー状況（目標、体力、時間、器具）に応じた自宅運動メニュー提案。具体的で分かりやすく実践しやすい内容。初心者でも無理なく継続できるよう配慮。提案運動の簡単記録連携。
        *   **入力情報:** 初回/提案前（運動目的、体力レベル、器具有無）、都度選択（運動時間、鍛えたい部位(任意)）。
        *   **提案内容/表示形式(MVPテキストのみ):** 運動種目リスト、回数/時間、セット間休憩、フォーム/注意点(簡潔テキスト)、推定消費カロリー、総運動時間。構造化テキスト（箇条書き/ステップ形式）。
        *   **考慮事項:** メニューのバリエーション/飽き防止（ランダム性/複数パターン）、初心者配慮（低負荷、分かりやすい言葉、注意喚起）、[高]提案運動簡単記録連携、運動DB構築、将来の体力レベル判定高度化/ユーザーFB (フィードバック) 活用。

    **3.2.10. リマインダー機能**
        *   **目的・ゴール:** 設定時間に記録等を促す通知で記録忘れ防止、習慣化サポート。
        *   **種類/設定項目:** 食事記録(朝/昼/夕/間食)、運動記録、体重記録。各ON/OFF、時刻設定。
        *   **通知内容:** ポジティブで励ます優しい言葉遣い。食事/運動/体重記録の促し、記録忘れ防止メッセージ。
        *   **画面イメージ（案）:** リマインダー設定画面（種類リスト、各ON/OFF/時刻設定、一括ON/OFF(あれば)）。
        *   **考慮事項:** OS (オペレーティングシステム) プッシュ通知許可依頼、通知頻度/タイミング（迷惑にならない）、通知タップ時関連画面遷移、[将来]スヌーズ機能 (通知の一時停止) 、バッテリー消費配慮。

    **3.2.11. プッシュ通知機能 (リマインダー機能以外)**
        *   **目的・ゴール:** リマインダー以外の通知でエンゲージメント (アプリへの関心度) 向上、アプリ利用促進、モチベーション維持貢献。
        *   **種類/内容:** 成果達成/称賛通知（目標達成、記録継続等）、モチベーション維持/エンゲージメント向上通知（ポジティブメッセージ、非アクティブユーザーへの声かけ、新コンテンツ/機能お知らせ）、システム通知（メンテナンス等）。
        *   **トリガー (きっかけ) :** 成果達成時、条件満たした時、非アクティブ時、コンテンツ追加時、運営判断時。
        *   **画面イメージ（案）:** 通知設定画面（「お知らせ通知」「応援メッセージ通知」等カテゴリ別ON/OFF）。
        *   **考慮事項:** パーソナライズ (個人に合わせた最適化) 、通知頻度/タイミング（過度な通知/深夜早朝回避）、通知タップ時関連画面遷移、[将来]A/Bテスト (複数パターンを比較検証するテスト) 、ユーザーコントロール重視（不要通知OFF容易に）、褒める機能連携。

    **3.2.12. 褒める機能（メッセージ）**
        *   **目的・ゴール:** ユーザーの努力/成果/継続を具体的に褒め、達成感/自己効力感を高め、楽しく継続サポート。
        *   **タイミング:** 記録行動時(食事/運動/体重記録完了)、目標達成/進捗時(目標カロリー達成、運動目標達成、体重減少、ゴール達成)、継続行動時(連続記録日数達成等)、その他(アプリ起動時等)。
        *   **内容/種類:** 汎用的褒め言葉、具体的成果への褒め言葉、頑張りを認める言葉、ユーモラス/キャラクター性のある言葉。バリエーション豊富に（毎回同じにしない、進捗度合いで変化）。
        *   **表示方法:** アプリ内ポップアップ（記録完了時等、邪魔にならない）、特定画面エリア表示（ダッシュボード等）、プッシュ通知（重要成果達成時、非アクティブユーザーへの励まし）。
        *   **考慮事項:** ポジティブさ徹底、パーソナライズ、飽きさせない工夫、アドバイス機能の声かけとの棲み分け、[MVP以降]アイテム/アバター報酬連携。
Use code with caution.
4. 非機能要件
4.1. 対応プラットフォーム: Webブラウザ (PC) (理由: MVPでは開発リソースを集中するため)
4.2. データ管理:
* ブラウザのローカルストレージ (LocalStorageやIndexedDBなど、ブラウザ内のデータ保存領域) に保存。(理由: MVPではサーバー開発コストを抑えるため)
* ログイン機能（ユーザー名/ニックネーム、パスワード）を設ける。(理由: ユーザーのデータ保護と識別のため)
* データのバックアップ（エクスポート）/リストア（インポート）機能を提供。(理由: ローカルストレージのデータ消失リスク軽減のため)
4.3. セキュリティ:
* パスワードはハッシュ化 (元に戻せないように暗号化) して保存・比較。(理由: パスワード漏洩時のリスク低減のため)
* （推奨）アプリ配信はHTTPS (SSL/TLSによる暗号化通信) 。(理由: 通信盗聴や改ざん防止のため)
* 個人情報保護法等の法令遵守。
4.4. オフライン対応: Service Worker (ウェブページとは別にバックグラウンドで動作するスクリプト) 等を利用し、ほぼ全ての機能をオフラインで利用可能にする。(理由: 利用場所を選ばない利便性向上のため)
4.5. パフォーマンス・可用性:
* 画面遷移やデータ処理はストレスなく軽快な動作（サクサク）を目指す。
* データ量が増加してもパフォーマンスが低下しないよう考慮する（例: 効率的なデータ検索、適切なデータ構造）。
* エラー発生時も可能な限りアプリはクラッシュ (強制終了) せず、継続利用可能にし、ユーザーに分かりやすく状況を伝える。
4.6. UI/UX:
* ターゲットユーザー（20代男女、ダイエット初心者）が直感的に操作可能で、使いやすいインターフェース。
* 明るくポジティブなデザインテーマ。
* アプリ内での操作方法やデザインの一貫性を保つ。
4.7. 拡張性・保守性:
* 将来的な機能追加の可能性（あるかも）を考慮し、ある程度の拡張性を持たせた設計（例: 機能ごとのモジュール化）。
* コードの可読性を高め、保守しやすい状態を目指す。
* ある程度のテスト（手動中心、重要機能は重点的）を実施する。
4.8. アクセシビリティ (より多くの人が利用しやすくするための配慮) :
* 基本的な視認性（文字と背景のコントラストなど）を重視する。
* （キーボード操作、文字サイズ変更はMVPでは必須としないが、将来的な改善項目として意識する）
5. 収益化モデル
5.1. 現時点では検討しない。
6. その他
6.1. （特記事項があれば記載）