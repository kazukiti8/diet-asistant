<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>運動メニュー提案 - ダイエット応援ノート</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f8fafc;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #f9a8d4 0%, #93c5fd 100%);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .exercise-card {
            transition: all 0.3s ease;
        }
        
        .exercise-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .difficulty-badge {
            transition: all 0.3s ease;
        }
        
        .difficulty-badge:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="text-gray-800">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <a href="記録選択画面.html" class="mr-4 text-gray-600 hover:text-gray-800">
                        <i class="fas fa-arrow-left text-xl"></i>
                    </a>
                    <div>
                        <h1 class="text-xl font-bold">運動メニュー提案</h1>
                        <p class="text-sm text-gray-600">あなたに最適な運動メニューを提案します</p>
                    </div>
                </div>
                <button id="savePreferences" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                    <i class="fas fa-save mr-2"></i>設定保存
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6">
        <!-- User Profile Summary -->
        <section class="mb-6 fade-in">
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h2 class="text-lg font-semibold">今日の運動メニュー</h2>
                        <p class="text-sm text-gray-600">あなたの体力レベルに合わせて提案します</p>
                    </div>
                    <div class="text-right">
                        <div class="text-2xl font-bold text-blue-600">初級</div>
                        <div class="text-xs text-gray-500">体力レベル</div>
                    </div>
                </div>
                <div class="grid grid-cols-3 gap-4 text-center">
                    <div class="p-3 bg-blue-50 rounded-lg">
                        <div class="text-lg font-bold text-blue-600">20分</div>
                        <div class="text-xs text-gray-600">運動時間</div>
                    </div>
                    <div class="p-3 bg-green-50 rounded-lg">
                        <div class="text-lg font-bold text-green-600">150kcal</div>
                        <div class="text-xs text-gray-600">消費予想</div>
                    </div>
                    <div class="p-3 bg-purple-50 rounded-lg">
                        <div class="text-lg font-bold text-purple-600">5種目</div>
                        <div class="text-xs text-gray-600">運動数</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Settings -->
        <section class="mb-6 fade-in">
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="text-lg font-semibold mb-4 flex items-center">
                    <i class="fas fa-cog text-gray-500 mr-2"></i>
                    メニュー設定
                </h3>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">運動時間</label>
                        <select class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none">
                            <option>10分</option>
                            <option selected>20分</option>
                            <option>30分</option>
                            <option>45分</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">鍛えたい部位</label>
                        <select class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none">
                            <option>全身</option>
                            <option>お腹</option>
                            <option>脚</option>
                            <option>腕</option>
                        </select>
                    </div>
                </div>
                <button class="w-full mt-4 py-3 bg-gradient-to-r from-pink-500 to-blue-500 text-white rounded-lg font-semibold hover:from-pink-600 hover:to-blue-600 transition">
                    <i class="fas fa-sync-alt mr-2"></i>メニューを再生成
                </button>
            </div>
        </section>

        <!-- Exercise Menu -->
        <section class="mb-6 fade-in">
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold">今日の運動メニュー</h3>
                    <span class="px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full">初級向け</span>
                </div>
                
                <!-- Exercise List -->
                <div class="space-y-4">
                    <!-- Exercise 1 -->
                    <div class="exercise-card border border-gray-200 rounded-lg p-4">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-3">
                                        <span class="text-sm font-bold">1</span>
                                    </div>
                                    <h4 class="font-semibold">スクワット</h4>
                                    <span class="ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full difficulty-badge">初級</span>
                                </div>
                                <div class="ml-11">
                                    <p class="text-sm text-gray-600 mb-2">下半身を鍛える基本運動</p>
                                    <div class="grid grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <span class="text-gray-500">回数:</span>
                                            <span class="font-medium">10回 × 3セット</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">時間:</span>
                                            <span class="font-medium">5分</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">消費:</span>
                                            <span class="font-medium text-blue-600">30kcal</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 text-xs text-gray-500">
                                        <i class="fas fa-info-circle mr-1"></i>
                                        膝がつま先より前に出ないよう注意
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <button class="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition" title="運動を開始">
                                    <i class="fas fa-play"></i>
                                </button>
                                <a href="運動記録画面.html?exercise=squat&duration=5&calories=30" class="p-2 text-green-600 hover:bg-green-50 rounded-lg transition" title="記録に追加">
                                    <i class="fas fa-plus"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 2 -->
                    <div class="exercise-card border border-gray-200 rounded-lg p-4">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center mr-3">
                                        <span class="text-sm font-bold">2</span>
                                    </div>
                                    <h4 class="font-semibold">プランク</h4>
                                    <span class="ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full difficulty-badge">初級</span>
                                </div>
                                <div class="ml-11">
                                    <p class="text-sm text-gray-600 mb-2">体幹を鍛える静的運動</p>
                                    <div class="grid grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <span class="text-gray-500">時間:</span>
                                            <span class="font-medium">30秒 × 3セット</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">休憩:</span>
                                            <span class="font-medium">30秒</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">消費:</span>
                                            <span class="font-medium text-blue-600">25kcal</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 text-xs text-gray-500">
                                        <i class="fas fa-info-circle mr-1"></i>
                                        お尻を上げすぎず、一直線を保つ
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <button class="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition" title="運動を開始">
                                    <i class="fas fa-play"></i>
                                </button>
                                <a href="運動記録画面.html?exercise=plank&duration=30&calories=25" class="p-2 text-green-600 hover:bg-green-50 rounded-lg transition" title="記録に追加">
                                    <i class="fas fa-plus"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 3 -->
                    <div class="exercise-card border border-gray-200 rounded-lg p-4">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center mr-3">
                                        <span class="text-sm font-bold">3</span>
                                    </div>
                                    <h4 class="font-semibold">腕立て伏せ（膝つき）</h4>
                                    <span class="ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full difficulty-badge">初級</span>
                                </div>
                                <div class="ml-11">
                                    <p class="text-sm text-gray-600 mb-2">上半身を鍛える基本運動</p>
                                    <div class="grid grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <span class="text-gray-500">回数:</span>
                                            <span class="font-medium">5回 × 3セット</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">時間:</span>
                                            <span class="font-medium">5分</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">消費:</span>
                                            <span class="font-medium text-blue-600">35kcal</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 text-xs text-gray-500">
                                        <i class="fas fa-info-circle mr-1"></i>
                                        膝をついて負荷を軽減
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <button class="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition" title="運動を開始">
                                    <i class="fas fa-play"></i>
                                </button>
                                <a href="運動記録画面.html?exercise=pushup&duration=5&calories=35" class="p-2 text-green-600 hover:bg-green-50 rounded-lg transition" title="記録に追加">
                                    <i class="fas fa-plus"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 4 -->
                    <div class="exercise-card border border-gray-200 rounded-lg p-4">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center mr-3">
                                        <span class="text-sm font-bold">4</span>
                                    </div>
                                    <h4 class="font-semibold">レッグレイズ</h4>
                                    <span class="ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full difficulty-badge">初級</span>
                                </div>
                                <div class="ml-11">
                                    <p class="text-sm text-gray-600 mb-2">お腹を鍛える運動</p>
                                    <div class="grid grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <span class="text-gray-500">回数:</span>
                                            <span class="font-medium">8回 × 3セット</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">時間:</span>
                                            <span class="font-medium">4分</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">消費:</span>
                                            <span class="font-medium text-blue-600">30kcal</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 text-xs text-gray-500">
                                        <i class="fas fa-info-circle mr-1"></i>
                                        腰を床にしっかりつける
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <button class="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition" title="運動を開始">
                                    <i class="fas fa-play"></i>
                                </button>
                                <a href="運動記録画面.html?exercise=legraise&duration=4&calories=30" class="p-2 text-green-600 hover:bg-green-50 rounded-lg transition" title="記録に追加">
                                    <i class="fas fa-plus"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 5 -->
                    <div class="exercise-card border border-gray-200 rounded-lg p-4">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center mr-3">
                                        <span class="text-sm font-bold">5</span>
                                    </div>
                                    <h4 class="font-semibold">ストレッチ</h4>
                                    <span class="ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full difficulty-badge">初級</span>
                                </div>
                                <div class="ml-11">
                                    <p class="text-sm text-gray-600 mb-2">クールダウンと柔軟性向上</p>
                                    <div class="grid grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <span class="text-gray-500">時間:</span>
                                            <span class="font-medium">6分</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">部位:</span>
                                            <span class="font-medium">全身</span>
                                        </div>
                                        <div>
                                            <span class="text-gray-500">消費:</span>
                                            <span class="font-medium text-blue-600">30kcal</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 text-xs text-gray-500">
                                        <i class="fas fa-info-circle mr-1"></i>
                                        痛くない程度にゆっくり伸ばす
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <button class="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition" title="運動を開始">
                                    <i class="fas fa-play"></i>
                                </button>
                                <a href="運動記録画面.html?exercise=stretching&duration=6&calories=30" class="p-2 text-green-600 hover:bg-green-50 rounded-lg transition" title="記録に追加">
                                    <i class="fas fa-plus"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Summary -->
                <div class="mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg">
                    <div class="flex justify-between items-center">
                        <div>
                            <h4 class="font-semibold">メニュー合計</h4>
                            <p class="text-sm text-gray-600">5種目の運動</p>
                        </div>
                        <div class="text-right">
                            <div class="text-xl font-bold text-blue-600">20分</div>
                            <div class="text-sm text-gray-600">総運動時間</div>
                            <div class="text-xs text-gray-500">消費カロリー: 150kcal</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Actions -->
        <section class="mb-6 fade-in">
            <div class="grid grid-cols-2 gap-4">
                <button id="startMenuBtn" class="bg-white rounded-xl shadow-md p-6 text-center hover:bg-gray-50 transition">
                    <div class="w-12 h-12 mx-auto mb-3 rounded-full bg-green-100 text-green-600 flex items-center justify-center">
                        <i class="fas fa-play text-xl"></i>
                    </div>
                    <h3 class="font-semibold mb-1">メニュー開始</h3>
                    <p class="text-sm text-gray-600">今すぐ運動を始める</p>
                </button>
                <button class="bg-white rounded-xl shadow-md p-6 text-center hover:bg-gray-50 transition">
                    <div class="w-12 h-12 mx-auto mb-3 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center">
                        <i class="fas fa-bookmark text-xl"></i>
                    </div>
                    <h3 class="font-semibold mb-1">お気に入り</h3>
                    <p class="text-sm text-gray-600">メニューを保存</p>
                </button>
            </div>
        </section>

        <!-- Tips -->
        <section class="fade-in">
            <div class="bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl shadow-md p-6">
                <div class="flex items-start">
                    <div class="flex-shrink-0 mr-3">
                        <i class="fas fa-lightbulb text-yellow-500 text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-800 mb-2">運動のコツ</h3>
                        <p class="text-sm text-gray-700 mb-3">
                            初級者向けのメニューです。無理をせず、自分のペースで行いましょう。呼吸を止めずに、ゆっくりと正しいフォームで行うことが大切です。
                        </p>
                        <div class="flex space-x-2">
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">初級者向け</span>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">自宅で可能</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200">
        <div class="container mx-auto px-4">
            <div class="flex justify-around">
                <a href="ホーム画面.html" class="py-3 px-4 flex flex-col items-center text-gray-500 hover:text-blue-600">
                    <i class="fas fa-home text-xl mb-1"></i>
                    <span class="text-xs">ホーム</span>
                </a>
                <a href="進捗詳細画面.html" class="py-3 px-4 flex flex-col items-center text-gray-500 hover:text-blue-600">
                    <i class="fas fa-chart-line text-xl mb-1"></i>
                    <span class="text-xs">進捗</span>
                </a>
                <a href="#" class="py-3 px-4 flex flex-col items-center text-gray-500 hover:text-blue-600">
                    <i class="fas fa-book text-xl mb-1"></i>
                    <span class="text-xs">記録</span>
                </a>
                <a href="設定画面.html" class="py-3 px-4 flex flex-col items-center text-gray-500 hover:text-blue-600">
                    <i class="fas fa-cog text-xl mb-1"></i>
                    <span class="text-xs">設定</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Quick Navigation Modal -->
    <div id="quickNavModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4">
            <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-lg font-semibold">記録を追加</h3>
                <button id="closeQuickNavModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <a href="体重記録画面.html" class="record-type-btn flex flex-col items-center p-4 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-200 transition">
                        <div class="w-12 h-12 rounded-full bg-pink-100 text-pink-600 flex items-center justify-center mb-2">
                            <i class="fas fa-weight"></i>
                        </div>
                        <span class="text-sm font-medium">体重</span>
                    </a>
                    <a href="食事記録画面.html" class="record-type-btn flex flex-col items-center p-4 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-200 transition">
                        <div class="w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-2">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <span class="text-sm font-medium">食事</span>
                    </a>
                    <a href="運動記録画面.html" class="record-type-btn flex flex-col items-center p-4 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-200 transition">
                        <div class="w-12 h-12 rounded-full bg-green-100 text-green-600 flex items-center justify-center mb-2">
                            <i class="fas fa-running"></i>
                        </div>
                        <span class="text-sm font-medium">運動</span>
                    </a>
                    <a href="運動メニュー提案画面.html" class="record-type-btn flex flex-col items-center p-4 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-200 transition">
                        <div class="w-12 h-12 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center mb-2">
                            <i class="fas fa-dumbbell"></i>
                        </div>
                        <span class="text-sm font-medium">運動メニュー</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Start Exercise Modal -->
    <div id="startExerciseModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4">
            <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-lg font-semibold">運動を開始しますか？</h3>
                <button id="closeStartModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <div class="text-center mb-4">
                    <div class="w-16 h-16 mx-auto mb-3 rounded-full bg-gradient-to-r from-pink-400 to-blue-400 flex items-center justify-center">
                        <i class="fas fa-dumbbell text-2xl text-white"></i>
                    </div>
                    <h4 class="font-semibold mb-2">今日の運動メニュー</h4>
                    <p class="text-sm text-gray-600">5種目 × 20分</p>
                    <p class="text-sm text-blue-600 font-medium">予想消費カロリー: 150kcal</p>
                </div>
                <div class="flex space-x-4">
                    <button type="button" 
                            id="cancelStart"
                            class="flex-1 py-3 px-4 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition">
                        キャンセル
                    </button>
                    <button type="button" 
                            id="confirmStart"
                            class="flex-1 py-3 px-4 bg-gradient-to-r from-pink-500 to-blue-500 text-white rounded-lg font-semibold hover:from-pink-600 hover:to-blue-600 transition">
                        開始する
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Start exercise modal
        document.getElementById('startMenuBtn').addEventListener('click', function() {
            document.getElementById('startExerciseModal').classList.remove('hidden');
        });
        
        document.getElementById('closeStartModal').addEventListener('click', function() {
            document.getElementById('startExerciseModal').classList.add('hidden');
        });
        
        document.getElementById('cancelStart').addEventListener('click', function() {
            document.getElementById('startExerciseModal').classList.add('hidden');
        });
        
        document.getElementById('confirmStart').addEventListener('click', function() {
            alert('運動を開始します！頑張りましょう！');
            document.getElementById('startExerciseModal').classList.add('hidden');
            // 実際のアプリでは運動画面に遷移
        });
        
        // Close modal when clicking outside
        document.getElementById('startExerciseModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });
        
        // Exercise play buttons
        document.querySelectorAll('.exercise-card .fa-play').forEach(btn => {
            btn.parentElement.addEventListener('click', function() {
                const exerciseName = this.closest('.exercise-card').querySelector('h4').textContent;
                alert(`${exerciseName}の説明を表示します`);
            });
        });

        // Quick navigation modal
        document.getElementById('closeQuickNavModal').addEventListener('click', function() {
            document.getElementById('quickNavModal').classList.add('hidden');
        });
        
        // Close modal when clicking outside
        document.getElementById('quickNavModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });

        // 運動メニュー提案ロジック
        const exerciseDatabase = {
            // お腹周り系
            abs: [
                {
                    name: "クランチ",
                    sets: 3,
                    reps: "15回",
                    rest: "30秒",
                    calories: 50,
                    description: "腹直筋を鍛える基本的な運動",
                    difficulty: "beginner"
                },
                {
                    name: "プランク",
                    sets: 3,
                    reps: "30秒",
                    rest: "60秒",
                    calories: 40,
                    description: "体幹を鍛える静的運動",
                    difficulty: "beginner"
                },
                {
                    name: "レッグレイズ",
                    sets: 3,
                    reps: "12回",
                    rest: "45秒",
                    calories: 60,
                    description: "下腹部を重点的に鍛える",
                    difficulty: "intermediate"
                }
            ],
            // 全身系
            fullBody: [
                {
                    name: "スクワット",
                    sets: 3,
                    reps: "15回",
                    rest: "60秒",
                    calories: 80,
                    description: "下半身全体を鍛える基本運動",
                    difficulty: "beginner"
                },
                {
                    name: "プッシュアップ",
                    sets: 3,
                    reps: "10回",
                    rest: "60秒",
                    calories: 70,
                    description: "上半身の筋力を鍛える",
                    difficulty: "intermediate"
                },
                {
                    name: "バーピー",
                    sets: 3,
                    reps: "8回",
                    rest: "90秒",
                    calories: 100,
                    description: "全身を使った高強度運動",
                    difficulty: "advanced"
                }
            ],
            // 有酸素系
            cardio: [
                {
                    name: "ジャンピングジャック",
                    sets: 3,
                    reps: "30秒",
                    rest: "30秒",
                    calories: 60,
                    description: "全身を使った有酸素運動",
                    difficulty: "beginner"
                },
                {
                    name: "マウンテンクライマー",
                    sets: 3,
                    reps: "20秒",
                    rest: "40秒",
                    calories: 80,
                    description: "体幹と有酸素運動を同時に",
                    difficulty: "intermediate"
                },
                {
                    name: "ハイニー",
                    sets: 3,
                    reps: "15秒",
                    rest: "45秒",
                    calories: 90,
                    description: "高強度の有酸素運動",
                    difficulty: "advanced"
                }
            ]
        };

        // 提案ロジック
        function generateWorkoutPlan() {
            const purpose = document.getElementById('purpose').value;
            const level = document.getElementById('level').value;
            const time = parseInt(document.getElementById('time').value);
            const equipment = Array.from(document.querySelectorAll('input[name="equipment"]:checked')).map(cb => cb.value);

            if (!purpose || !level || !time) {
                showMessage('すべての項目を選択してください', 'error');
                return;
            }

            let selectedExercises = [];
            let totalTime = 0;
            let totalCalories = 0;

            // 目的に基づいて運動を選択
            if (purpose === 'abs') {
                selectedExercises = [...exerciseDatabase.abs];
            } else if (purpose === 'fullBody') {
                selectedExercises = [...exerciseDatabase.fullBody];
            } else if (purpose === 'cardio') {
                selectedExercises = [...exerciseDatabase.cardio];
            } else if (purpose === 'weightLoss') {
                // 減量目的は有酸素運動を中心に
                selectedExercises = [...exerciseDatabase.cardio, ...exerciseDatabase.fullBody.slice(0, 1)];
            }

            // 体力レベルに基づいて調整
            selectedExercises = selectedExercises.filter(exercise => {
                if (level === 'beginner') {
                    return exercise.difficulty === 'beginner';
                } else if (level === 'intermediate') {
                    return exercise.difficulty !== 'advanced';
                } else {
                    return true; // 上級者はすべて
                }
            });

            // 時間に基づいて運動数を調整
            const exercisesPerWorkout = Math.min(selectedExercises.length, Math.floor(time / 10));
            selectedExercises = selectedExercises.slice(0, exercisesPerWorkout);

            // 運動時間を計算
            selectedExercises.forEach(exercise => {
                const exerciseTime = exercise.sets * 2; // 1セット約2分
                totalTime += exerciseTime;
                totalCalories += exercise.calories * exercise.sets;
            });

            // 結果を表示
            displayWorkoutPlan(selectedExercises, totalTime, totalCalories, equipment);
        }

        // 運動メニューを表示
        function displayWorkoutPlan(exercises, totalTime, totalCalories, equipment) {
            const resultContainer = document.getElementById('workoutResult');
            
            if (exercises.length === 0) {
                resultContainer.innerHTML = `
                    <div class="text-center py-8">
                        <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-exclamation-triangle text-gray-400 text-2xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 mb-2">条件に合う運動が見つかりません</h3>
                        <p class="text-gray-600">条件を変更して再度お試しください</p>
                    </div>
                `;
                return;
            }

            let equipmentText = equipment.length > 0 ? `（使用器具: ${equipment.join(', ')}）` : '（器具なし）';

            resultContainer.innerHTML = `
                <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">今日の運動メニュー</h3>
                        <span class="text-sm text-gray-600">${equipmentText}</span>
                    </div>
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div class="bg-white rounded-lg p-3">
                            <div class="text-2xl font-bold text-blue-600">${exercises.length}</div>
                            <div class="text-sm text-gray-600">運動種目</div>
                        </div>
                        <div class="bg-white rounded-lg p-3">
                            <div class="text-2xl font-bold text-green-600">${totalTime}分</div>
                            <div class="text-sm text-gray-600">予想時間</div>
                        </div>
                        <div class="bg-white rounded-lg p-3">
                            <div class="text-2xl font-bold text-orange-600">${totalCalories}</div>
                            <div class="text-sm text-gray-600">消費カロリー</div>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    ${exercises.map((exercise, index) => `
                        <div class="bg-white rounded-lg p-4 border border-gray-200">
                            <div class="flex items-start justify-between mb-3">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-3 text-sm font-bold">
                                        ${index + 1}
                                    </div>
                                    <h4 class="font-semibold text-lg">${exercise.name}</h4>
                                </div>
                                <span class="text-sm px-2 py-1 rounded-full ${
                                    exercise.difficulty === 'beginner' ? 'bg-green-100 text-green-700' :
                                    exercise.difficulty === 'intermediate' ? 'bg-yellow-100 text-yellow-700' :
                                    'bg-red-100 text-red-700'
                                }">
                                    ${exercise.difficulty === 'beginner' ? '初級' :
                                      exercise.difficulty === 'intermediate' ? '中級' : '上級'}
                                </span>
                            </div>
                            <p class="text-gray-600 mb-3">${exercise.description}</p>
                            <div class="grid grid-cols-3 gap-4 text-sm">
                                <div class="text-center">
                                    <div class="font-semibold text-blue-600">${exercise.sets}セット</div>
                                    <div class="text-gray-500">セット数</div>
                                </div>
                                <div class="text-center">
                                    <div class="font-semibold text-green-600">${exercise.reps}</div>
                                    <div class="text-gray-500">回数/時間</div>
                                </div>
                                <div class="text-center">
                                    <div class="font-semibold text-orange-600">${exercise.rest}</div>
                                    <div class="text-gray-500">休憩</div>
                                </div>
                            </div>
                            <div class="mt-3 pt-3 border-t border-gray-200">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">推定消費カロリー: ${exercise.calories * exercise.sets}kcal</span>
                                    <button class="text-sm text-blue-600 hover:text-blue-800" onclick="addToFavorites('${exercise.name}')">
                                        <i class="fas fa-heart mr-1"></i>お気に入り
                                    </button>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="mt-6 flex space-x-4">
                    <button id="startWorkout" class="flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition font-semibold">
                        <i class="fas fa-play mr-2"></i>運動を開始
                    </button>
                    <button id="saveWorkout" class="flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition font-semibold">
                        <i class="fas fa-save mr-2"></i>メニューを保存
                    </button>
                </div>
            `;

            // 運動開始ボタンのイベント
            document.getElementById('startWorkout').addEventListener('click', function() {
                // 運動記録画面に遷移
                window.location.href = '運動記録画面.html';
            });

            // メニュー保存ボタンのイベント
            document.getElementById('saveWorkout').addEventListener('click', function() {
                showMessage('メニューを保存しました', 'success');
            });
        }

        // お気に入りに追加
        function addToFavorites(exerciseName) {
            showMessage(`${exerciseName}をお気に入りに追加しました`, 'success');
        }
    </script>
</body>
</html> 